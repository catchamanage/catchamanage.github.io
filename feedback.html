<!DOCTYPE html>
<html class="wrapp-layout">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="HandheldFriendly" content="true">
	<title>Listen QR</title>
	<link rel="icon" href="public/images/favicon.ico">
	<link rel="stylesheet" type="text/css" href="public/semantic/semantic.min.css">
	<link rel="stylesheet" href="public/css/listen.css">
<!-- 	<script
	  src="https://code.jquery.com/jquery-3.1.1.min.js"
	  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
	  crossorigin="anonymous"></script> -->
	  <script src="public/js/jquery-1.12.4.min.js"></script>
	<script src="public/semantic/semantic.min.js"></script>

</head>
<body>


<div class="screen screen-react">
	<div class="ui grid centered">
	  <div class="sixteen wide mobile eight wide tablet eight wide computer column">
		
		<div class="step step-one">
			<div class="item active"></div>
			<div class="item"></div>
			<div class="item"></div>
		</div>

	    <p class="question-one">Đánh giá dịch vụ của chúng tôi, chọn mức độ hài lòng của bạn?</p>

		<div class="ui equal width grid emoji">
		  <div class="column item" data-react="3">
		    <img src="public/images/emoji-unhappy.gif" alt="">
		    <p class="tip">Không hài lòng</p>
		  </div>
		  <div class="column item" data-react="2">
		    <img src="public/images/emoji-neutral.gif" alt="">
		    <p class="tip">Bình thường</p>
		  </div>
		  <div class="column item" data-react="1">
		    <img src="public/images/emoji-statisfied.gif" alt="">
		    <p class="tip">Rất hài lòng</p>
		  </div>
		</div>
		
		<div class="guide">
			<i class="help circle icon"></i>
		</div>

	  </div>
	</div>

	<div class="foot-guide" hidden>
		<p class="tip-to-opinion">Đánh giá dịch vụ bằng cách, chạm biểu tượng cảm xúc tương ứng với mức độ hài lòng.</p>
		<button class="ui button large red go-hidden">
		  Đóng
		</button>
	</div>

</div>

<div class="screen screen-thanks" hidden>
	<div class="ui grid centered">
		<div class="wrap-thanks">
			<img src="public/images/icon/checked_white.png" alt="" class="img-checked" hidden>
			<h1 class="say-thanks">Cảm ơn bạn đã phản hồi.</h1>
			<p class="say-futuer" hidden>Chúng tôi luôn trân trọng những đóng góp của bạn và mong nhận được càng nhiều phản hồi hơn nữa trong tương lai.</p>
		</div>
	</div>
</div>

<div class="screen screen-feedback" hidden>
	<div class="ui grid centered">
	  <div class="sixteen wide mobile eight wide tablet eight wide computer column">

		<div class="step step-two">
			<div class="item active comeback"></div>
			<div class="item active"></div>
			<div class="item unactive"></div>
		</div>

	    <!-- <p class="text-center tip">Chạm vào biểu tượng cảm xúc để quay lại</p> -->

		<div class="ui grid centered ">
		  <div class="column  text-center reponse-emotion">
		    <img src="public/images/emoji-unhappy.gif">
		    <p class="reponse-emotion">We are sorry. What we did wrong?</p>
		  </div>
		</div>

		<!-- Topic -->
		<div class="ui segment" id="subject">
		  <div class="ui relaxed divided list">

		    <div class="item">
		      <div class="content">
				  <div class="inline field">
				    <div class="ui checkbox item-topic" data-topic="1">
				      <input type="checkbox" tabindex="0" class="hidden">
				      <label class="about"><img class="ui avatar image" src="public/images/chef.png"> Nhân viên</label>
				    </div>
				  </div>
		      </div>
		    </div>

		    <div class="item">
		      <div class="content">
				  <div class="inline field">
				    <div class="ui checkbox item-topic" data-topic="1">
				      <input type="checkbox" tabindex="0" class="hidden">
				      <label class="about"><img class="ui avatar image" src="public/images/burger-flat.png"> Thực đơn</label>
				    </div>
				  </div>
		      </div>
		    </div>

		    <div class="item">
		      <div class="content">
				  <div class="inline field">
				    <div class="ui checkbox item-topic" data-topic="1">
				      <input type="checkbox" tabindex="0" class="hidden">
				      <label class="about"><img class="ui avatar image" src="public/images/salt.png"> Khẩu vị</label>
				    </div>
				  </div>
		      </div>
		    </div>

		    <div class="item">
		      <div class="content">
				  <div class="inline field">
				    <div class="ui checkbox item-topic" data-topic="1">
				      <input type="checkbox" tabindex="0" class="hidden">
				      <label class="about"><img class="ui avatar image" src="public/images/grocery.png"> Không gian</label>
				    </div>
				  </div>
		      </div>
		    </div>

		    <div class="item">
		      <div class="content">
				  <div class="inline field">
				    <div class="ui checkbox item-topic" data-topic="1">
				      <input type="checkbox" tabindex="0" class="hidden">
				      <label class="about"><img class="ui avatar image" src="public/images/etc.png"> Vấn đề khác</label>
				    </div>
				  </div>
		      </div>
		    </div>

		  </div>
		</div>
		<!-- END Topic -->

		<div class="wrap-feedback opinion" hidden>
			
			<p class="tip-to-opinion"></p>
			<div class="ui form body-box">
		
				<div class="field">
				<textarea rows="3" name="opinion" placeholder="Góp ý chi tiết"></textarea>
				</div>

				<p class="help-block">Để lại thông tin để được hỗ trợ ngay khi phản hồi được tiếp nhận:</p>

				<div class="field">
				<input name="name" type="text" placeholder="Họ tên">
				</div>

				<div class="field">
				<input name="phone" type="number" placeholder="Điện thoại" pattern="[0-9]*" inputmode="numeric">
				</div>

				<div class="ui error message"></div>

				<div class="fluid ui animated button large blue btn-final submit" tabindex="0">
				  <div class="visible content">Gửi</div>
				  <div class="hidden content">
				    <i class="right arrow icon"></i>
				  </div>
				</div>

			</div>
		</div>
	  </div>
	</div>
</div>



<script>

	//Effect
	$('.ui.checkbox').checkbox();

	$('.emoji .column').click(function(){
		$(this).transition({
				animation  : 'fly down',
				duration   : '500ms',
				onComplete : function() {
					$('.screen-feedback').transition('fly down', '350ms');
					$(this).addClass('emoji-fly');
				}
			});
		$('.screen-react').fadeOut();
		
	});

	$('.comeback').click(function(){
		$('.screen-feedback').transition('fly down', '19ms');
		$('.screen-react').fadeIn('1000ms');
		$('.emoji-fly').transition('fly down', '650ms');

		$('.emoji').find('.emoji-fly').removeClass('emoji-fly');
	});

	$('.guide').click(function(){
		$('.foot-guide').transition('slide up', '200ms');
	});

	$('.item-topic').click(function(){
		$('.opinion').transition('slide up', '600ms');
		$('.wrap-feedback').removeClass('opinion');
		$('.unactive').addClass('active');

	    $('html, body').animate({
	        scrollTop: $("#subject").offset().top
	    }, 1000);
	});

	// $('.opinion').click(function(){
	//     $('html, body').animate({
	//         scrollTop: $(".wrap-feedback").offset().top
	//     }, 500);
	// });


	$('.ui.form')
	  .form({
	    on: 'blur',
	    fields: {
	      opinion: {
	        identifier  : 'opinion',
	        rules: [
	          {
	            type   : 'empty',
	            prompt : 'Hãy góp ý giúp chúng tôi hoàn thiện dịch vụ của mình.'
	          }
	        ]
	      },
	      // name: {
	      //   identifier  : 'name',
	      //   rules: [
	      //     {
	      //       type   : 'empty',
	      //       prompt : 'Please enter your name'
	      //     }
	      //   ]
	      // },
	      // phone: {
	      //   identifier  : 'phone',
	      //   rules: [
	      //     {
	      //       type   : 'regExp[/^[+0-9_-]{10,11}$/]',
	      //       prompt : 'Please enter your number phone'
	      //     }
	      //   ]
	      // }
	    },
	    onSuccess : function() {
            $('.screen-feedback').transition('fade', '10ms');
            $('.screen-thanks').transition('fade', '650ms');
            $('.say-futuer').transition('fly left', '800ms');
            $('.img-checked').transition('browse', '1600ms');
        }
	  })
	;

	//Handle
	$(".emoji .item").click(function(){

		//Change text
		var react = $(this).data("react");
		var string = "";
		var emotion = "";
		switch(react) {
		    case 1:
		        string = "Tuyệt vời! Điều gì khiến bạn hài lòng?";
		        emotion = 'statisfied';
		        tip = "Hãy góp ý cho chúng tôi, để hoàn thiện dịch vụ tốt hơn nữa.";
		        break;
		    case 2:
		        string = "Bạn cảm thấy hài lòng về điều gì?";
		        emotion = 'neutral';
		        tip = "Chúng tôi cần làm gì để cải thiện dịch vụ phục vụ bạn tốt hơn!";
		        break;
		    case 3:
		        string = "Xin lỗi quý khách! Điều gì đã khiến bạn không hài lòng?";
		        emotion = 'unhappy';
		        tip = "Hãy góp ý cho chúng tôi, cần làm gì để khắc phục điều này!";
		        break;
		    default:
		        string = "Tuyệt vời! Điều gì khiến bạn rất hài lòng?";
			    emotion = 'statisfied';
		        tip = "Hãy góp ý cho chúng tôi, làm sao để có thể làm tốt hơn nữa.";
		}

		var html = '<img src="public/images/emoji-'+emotion+'.gif">'
		    		+'<p class="reponse-emotion">'+string+'</p>';
		$('.reponse-emotion').html(html);
		$('.tip-to-opinion').text(tip);

	});

</script>

</body>
</html>